$def with (reads, count, current_page=1, bookshelf_id=None)

<script type="text/javascript">
<!--
    \$().ready(bookCovers);
//-->
</script>

<div id="contentHead">
  <h2>My Reads</h2>
  <div class="myreads-options">
    <span>$count results</span>
    <span class="facet-options">
      <input type="radio" name="to-read" value="1" id="facet-want-to-read">
      <label for="to-read">Want to Read</label>
      <input type="radio" name="currently-reading" value="2" id="facet-currently-reading">
      <label for="currently-reading">Want to Read</label>
      <input type="radio" name="already-read" value="3" id="facet-already-read">
      <label for="already-read">Already Read</label>
    </span>
    <span class="mode-options">
      <input type="radio" name="mode" value="everything" id="mode-search-everything" class="search-mode">
      <label for="mode-search-everything">Everything</label>
      <input type="radio" name="mode" value="ebooks" id="mode-search-ebooks" class="search-mode" >
      <label for="mode-search-ebooks">Ebooks</label>
      <input type="radio" name="mode" value="printdisabled" id="mode-search-printdisabled" class="search-mode">
      <label for="mode-search-printdisabled">Print Disabled</label>
    </span>
  </div>
  
  <div class="resultsContainer">
    <div id="searchResults">
      <ul id="siteSearch">        
        $for read in reads:        
          $ work = reads[read]['work']
          $:macros.SearchResultsWork(work, decorations=macros.LikeButton(work.key.split('/')[-1]))
      </ul>
    </div>
  </div>

  <ul id="myreads-paginator">
    $ page_size = 10.
    $ pages = int(count/page_size)+1
    $if current_page > 1:
      <li><a href="/accounts/reads?page=$(int(current_page)-1)">Previous</a></li>
    $for page in range(1, pages+1):
      <li $:('class="selected"' if current_page == page+1 else '')>
        $if current_page != page:
          <a href="/accounts/reads?page=$(page)">$(page)</a>
        $else:
          $(page)
      </li>
    $if current_page < pages:
      <li><a href="/accounts/reads?page=$(int(current_page)+1)">Next</a></li>
  </ul>

</div>
